<?xml version="1.0" encoding="UTF-8"?><?workdir /D:\syncprojects\blog\temp\webhelp-responsive\topics?><?workdir-uri file:/D:/syncprojects/blog/temp/webhelp-responsive/topics/?><?path2project ..\?><?path2project-uri ../?><?path2rootmap-uri ../?><?doctype-public -//OASIS//DTD DITA Topic//EN?><?doctype-system topic.dtd?><topic xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="adding_labels_to_topics_in_the_webhelp_responsive_output" ditaarch:DITAArchVersion="1.3" domains="(topic abbrev-d) a(props deliveryTarget) (topic equation-d) (topic hazard-d) (topic hi-d) (topic indexing-d) (topic markup-d) (topic mathml-d) (topic pr-d) (topic relmgmt-d) (topic sw-d) (topic svg-d) (topic ui-d) (topic ut-d) (topic markup-d xml-d)" class="- topic/topic " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="topic:1;3:70" specializations="@props/deliveryTarget">
    <title class="- topic/title " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="title:1;4:12">Adding Labels to Topics in the WebHelp Responsive Output</title>
    <prolog class="- topic/prolog " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="prolog:1;5:13">
        <author class="- topic/author " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="author:1;6:17">Radu Coravu</author>
        <critdates class="- topic/critdates " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="critdates:1;7:20">
            <created date="2021-12-13" class="- topic/created " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="created:1;8:41"/>
        </critdates>
        <metadata class="- topic/metadata " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="metadata:1;10:19">
            <keywords class="- topic/keywords " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="keywords:1;11:23">
                <keyword outputclass="label" class="- topic/keyword " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="keyword:1;12:46">DITA Publishing Customization</keyword>
            </keywords>
        </metadata>
    </prolog>
    <body class="- topic/body " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="body:1;16:11">
        <p class="- topic/p " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="p:1;17:12">DITA topics can contain <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="xmlelement:1;17:48">keyword</xmlelement> elements that are usually placed
            in a <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="xmlelement:2;18:30">prolog</xmlelement> element, but they can also be used inside the topic
            body contents.
            <codeblock id="codeblock_t1c_yq1_xrb" outputclass="language-xml" xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="codeblock:1;20:78">&lt;topic id="topicID"&gt;
    &lt;title&gt;DITA 1.3 Features&lt;/title&gt;
    &lt;prolog&gt;
        &lt;metadata&gt;
            &lt;keywords&gt;
                &lt;keyword&gt;DITA 1.3&lt;/keyword&gt;
            &lt;/keywords&gt;
        &lt;/metadata&gt;
    &lt;/prolog&gt;...</codeblock>The Oxygen WebHelp Responsive output uses these keywords
            as a way of giving more priority to certain sequences of words when searching for
            content. By default, keywords do not appear in the published output.</p>
        <p class="- topic/p " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="p:2;31:12">This article is an attempt to add a new concept of a <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="uicontrol:1;31:76">label</uicontrol>:<ul id="ul_bfg_3cx_xrb" class="- topic/ul " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="ul:1;32:37">
                <li class="- topic/li " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="li:1;33:21">A <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="uicontrol:2;33:34">label</uicontrol> is a <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="uicontrol:3;33:68">keyword</uicontrol> element with
                    a special <xmlatt class="+ topic/keyword markup-d/markupname xml-d/xmlatt " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="xmlatt:1;34:39">outputclass="label"</xmlatt> attribute. The label is always
                    visible in the published output. It can be placed either in a prolog section or
                    anywhere inside the topic where a keyword is allowed.</li>
                <li class="- topic/li " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="li:2;37:21">When a label is selected, the WebHelp output displays all other topics that have
                    the same <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="uicontrol:4;38:41">label</uicontrol> value set to them.</li>
            </ul></p>
        <section id="section_omd_ds1_xrb" class="- topic/section " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="section:1;40:43">
            <title class="- topic/title " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="title:2;41:20">Inserting Labels</title>
            <p class="- topic/p " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="p:3;42:16">We can decide to use the DITA <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="xmlelement:3;42:58">keyword</xmlelement> element with a certain
                    <xmlatt class="+ topic/keyword markup-d/markupname xml-d/xmlatt " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="xmlatt:2;43:29">outputclass</xmlatt> attribute value set to <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="codeph:1;43:81">label</codeph> to
                insert such keywords that should be displayed in the published
                output.<codeblock outputclass="language-xml" id="codeblock_wyg_js1_xrb" xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="codeblock:2;45:89">&lt;topic id="topicID"&gt;
    &lt;title&gt;DITA 1.3 Features&lt;/title&gt;
    &lt;prolog&gt;
        &lt;metadata&gt;
            &lt;keywords&gt;
                &lt;keyword outputclass="label"&gt;DITA 1.3&lt;/keyword&gt;
            &lt;/keywords&gt;
        &lt;/metadata&gt;
    &lt;/prolog&gt;...</codeblock></p>
            <p class="- topic/p " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="p:4;54:16">To make the insertion of such labels easier, you can, for example, create a custom
                Author action that inserts the labels and add the custom action to the content
                completion window: <xref href="custom-author-action-content-completion.dita" class="- topic/xref " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="xref:1;56:95" type="topic"><?ditaot gentext?>Adding a Custom Author Action to the Content Completion Window</xref>.</p>
            <p class="- topic/p " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="p:5;57:16">To have special styling for the inserted labels when editing, you can customize the
                CSS stylesheets used for DITA editing: <xref href="customizeDITACSS.dita" class="- topic/xref " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="xref:2;58:92" type="topic"><?ditaot gentext?>Customizing the DITA Visual Editing Experience</xref>.</p>
        </section>
        <section id="section_fvs_4s1_xrb" class="- topic/section " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="section:2;60:43"><title class="- topic/title " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="title:3;60:50">Factoring Labels When Publishing</title><p class="- topic/p " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="p:6;60:93">DITA
                WebHelp output can be customized using a <xref href="https://www.oxygenxml.com/doc/ug-editor/topics/whr_publishing_template_contents.html" format="html" scope="external" class="- topic/xref " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="xref:3;63:52"><?ditaot usertext?>publishing template mechanism</xref>. Inside a
                publishing template folder, there is an <filepath class="+ topic/ph sw-d/filepath " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="filepath:1;64:67">opt</filepath> file that can
                contain links to various XSLT stylesheets that are useful for customizations. For
                example, we'll add a link to a stylesheet for processing such special keyword label
                elements:<codeblock id="codeblock_cfr_ft1_xrb" outputclass="language-xml" xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="codeblock:3;67:91">&lt;publishing-template&gt;
    &lt;name&gt;.....&lt;/name&gt;
    ......
        &lt;xslt&gt;
            ....
            &lt;extension file="xslt/labels-show.xsl" id="com.oxygenxml.webhelp.xsl.dita2webhelp"/&gt;
            .....
        &lt;/xslt&gt;
    &lt;/webhelp&gt;
&lt;/publishing-template&gt;</codeblock>The <filepath class="+ topic/ph sw-d/filepath " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="filepath:2;76:52">labels-show.xsl</filepath>
                stylesheet will match all labels and display them after the title of each topic. For
                each label, it will have a link to search the entire documentation for the same
                label:<codeblock id="codeblock_b3f_k1b_xrb" outputclass="language-xml" xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="codeblock:4;79:88">&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    exclude-result-prefixes="xs"
    version="2.0"&gt;
    &lt;xsl:template match="*[contains(@class, ' topic/prolog ')]"&gt;
        &lt;!-- create a special div which displays all labels, with a link on each label --&gt;
        &lt;xsl:if test=".//keyword[@outputclass = 'label']"&gt;
            &lt;div style="width:100%; text-align: right; font-style:italic; color:gray;"&gt;Labels:
                &lt;xsl:apply-templates select=".//keyword[@outputclass = 'label']"/&gt;
            &lt;/div&gt;
        &lt;/xsl:if&gt;
        &lt;xsl:next-match/&gt;
    &lt;/xsl:template&gt;
    
    &lt;!-- Match a label keyword and display it as a span --&gt;
    &lt;xsl:template match="keyword[@outputclass = 'label']"&gt;
        &lt;a
            href="{concat('../search.html?searchQuery=label_', normalize-space(translate(text(), ' ', '_')))}"&gt;
            &lt;span style="background-color:deepskyblue;color:white;border-radius: 6px;margin:0.2em;padding:0.2em;"
                &gt;&lt;xsl:value-of select="text()"/&gt;&lt;/span&gt;
        &lt;/a&gt;
    &lt;/xsl:template&gt;
    
    &lt;!-- Add specific HTML meta elements for each label --&gt;
    &lt;xsl:template match="*" mode="gen-keywords-metadata"&gt;
        &lt;xsl:next-match/&gt;
        &lt;xsl:variable name="keywords-content"&gt;
            &lt;!-- for each label --&gt;
            &lt;xsl:for-each select="//keyword[@outputclass = 'label']"&gt;
                &lt;xsl:value-of
                    select="concat('label_', normalize-space(translate(text(), ' ', '_')))"/&gt;
                &lt;xsl:if test="position() &amp;lt; last()"&gt;
                    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
                &lt;/xsl:if&gt;
            &lt;/xsl:for-each&gt;
        &lt;/xsl:variable&gt;
        
        &lt;xsl:if test="string-length($keywords-content) &gt; 0"&gt;
            &lt;meta name="keywords" content="{$keywords-content}"/&gt;
        &lt;/xsl:if&gt;
    &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;</codeblock></p><p class="- topic/p " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="p:7;120:40">The end result displays labels defined in
                each topic and allows you to click on each label and find all topics with the same
                label.</p><image href="../images/webhelp-labels.png" id="image_hzy_kbb_xrb" scale="40" placement="inline" class="- topic/image " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="image:1;123:29" dita-ot:image-width="1454" dita-ot:image-height="574" dita-ot:horizontal-dpi="144" dita-ot:vertical-dpi="144"/><p class="- topic/p " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="p:8;123:32">The Oxygen blog uses this customization and some of the articles in
                the blog have labels defined on them: <xref href="../branchFilters/branchFilter.dita" class="- topic/xref " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="xref:4;125:64" type="topic"><?ditaot gentext?>DITA 1.3 Branch Filtering - Next Generation of Reuse</xref>.</p>The WebHelp publishing template
            used for publishing this blog already has a customization to display labels in the blog
            articles: <xref href="../publishing/webhelpBlogTemplate.zip" format="zip" class="- topic/xref " xtrf="file:/D:/syncprojects/blog/topics/adding_labels_to_topics_in_the_webhelp_responsive_output.dita" xtrc="xref:5;127:88"/>.</section>
    </body>
</topic>